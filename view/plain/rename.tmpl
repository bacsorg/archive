<% c++ #include <bacs/archive/web/content/form.hpp> %>
<% skin plain %>
    <% view rename uses bacs::archive::web::content::rename extends base_form %>
        <% template subtitle() %>
            <% gt "Rename problem" %>
        <% end template %>
        <% template form() %>
            <h3><% gt "Rename problem" %></h3>
            <form method="post" action="">
                <% form as_p form %>
            </form>
        <% end template %>
        <% template result() %>
            <% if result %>
                <!-- FIXME -->
                <p>
                    <% gt "Import status:" %>
                    <% if result->has_error() %>
                        <pre class="error"><%= result->error() %></pre>
                    <% else %>
                        <% gt "OK" %>
                    <% end %>
                </p>
                <% if result->has_status() %>
                    <% foreach flag in result->status().flags().flag() %>
                        <% gt "Problem flags:" %>
                        <ul class="problem_flags">
                            <% item %>
                                <li><%= flag %></li>
                            <% end %>
                        </ul>
                    <% end %>
                    <p><% gt "Problem hash:" %> <%= result->status().hash() | base64_binary %></p>
                <% else %>
                    <% gt "N/A" %>
                <% end %>
            <% end %>
        <% end template %>
    <% end view %>
<% end skin %>
